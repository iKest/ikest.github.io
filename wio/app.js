(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(c,u,e){c.exports=e(14)},function(c,u,e){var f=e(12),a=e(13);a=a.__esModule?a.default:a,typeof a=="string"&&(a=[[c.i,a,""]]);var n={};n.insert="head",n.singleton=!1;var m=f(a,n);c.exports=a.locals||{}},,function(c,u,e){},function(c,u,e){"use strict";e.r(u);var f=e(11),a=e(0),n=e.n(a),m=e(1),d=e.n(m),x=e(4),R=e.n(x),S=e(3),E=e.n(S),T=e(9),O=e(8),L=e(7);const A={type:n.a.AUTO,disableContextMenu:!0,render:{transparent:!0,autoResize:!1},scale:{parent:"gameContainer",mode:n.a.Scale.RESIZE,autoCenter:n.a.Scale.CENTER_BOTH,width:"100%",height:"100%",expandParent:!1}},M=(()=>{const t=[];let s=!1;const i=()=>{s||(s=!0,window.requestAnimationFrame?window.requestAnimationFrame(r):setTimeout(r,66))},r=()=>{t.forEach(function(o){o()}),s=!1},l=o=>{o&&t.push(o)};return{add:o=>{t.length||window.addEventListener("resize",i),l(o)}}})(),p=function(){var t,s,i,r,l,o;const h=document.createElement("canvas").getContext("2d"),P=(t=window.devicePixelRatio)!=null?t:1,C=(o=(l=(r=(i=(s=h.webkitBackingStorePixelRatio)!=null?s:h.mozBackingStorePixelRatio)!=null?i:h.msBackingStorePixelRatio)!=null?r:h.oBackingStorePixelRatio)!=null?l:h.backingStorePixelRatio)!=null?o:1,w=P/C;return w>1?w:1}();class v extends n.a.Scene{constructor(t){super(t);this.key=t.key,this.log=d.a.get(this.key),this.log.info("boot")}init(){this.log.info("init"),this.events.once("shutdown",this.shutdown,this),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this),this.events.off("destroy",this.destroy,this),this.scale.on("resize",this.resize,this)}shutdown(){this.log.info("shutdown"),this.scale.off("resize",this.resize,this),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.once("destroy",this.destroy,this)}sleep(){this.log.info("sleep"),this.events.off("pause",this.pause,this),this.events.once("wake",this.wake,this)}pause(){this.log.info("pause"),this.events.once("resume",this.resume,this)}wake(){this.log.info("wake"),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this)}resume(){this.log.info("resume"),this.events.once("pause",this.pause,this)}destroy(){this.log.info("destroy"),this.scale.off("resize",this.resize,this),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.off("shutdown",this.shutdown,this),this.log=void 0}resize(t,s,i,r){const{width:l,height:o}=t;this.cameras.resize(l,o)}}class b extends v{constructor(){super({key:"BootScene"})}create(){this.log.info("create"),this.load.rexWebFont({google:{families:["Roboto"]}}),this.load.image("level_bg_tile","assets/images/backgrounddetailed2.png"),this.load.image("restart","assets/images/restart.png"),this.load.spritesheet("spider","assets/sprites/spider.png",{frameWidth:120,frameHeight:148,startFrame:0,endFrame:18}),this.load.on("complete",()=>{this.anims.create({key:"walk",frames:"spider",frameRate:19,repeat:-1}),document.querySelector(".loader").classList.toggle("loaded"),this.scene.start("LevelScene")}),this.load.start()}}const D=.005,y=.001;class j extends v{constructor(){super({key:"LevelScene"});this.currentPointer=null,this.isWalk=!1,this.currentRotation=0}create(){this.log.info("create");const{centerX:t,centerY:s,width:i,height:r}=this.cameras.main;this.add.tileSprite(t,s,500*Math.ceil(i/500),500*Math.ceil(r/500),"level_bg_tile").setOrigin(.5),this.graphics=this.add.graphics(),this.spider=this.add.sprite(0,0,"spider").play("walk").setRotation(this.currentRotation+Math.PI*.5),this.path=this.add.path(this.spider.x,this.spider.y),this.cameras.main.startFollow(this.spider,!0),this.joystick=this.rexVirtualJoystick.add(this,{x:0,y:0,radius:100,base:this.add.circle(0,0,100,16777215,.5),thumb:this.add.circle(0,0,50,2290649224,.5),fixed:!0,enable:!1}).setVisible(!1).on("update",this.dumpJoyStickState,this),this.restartBtn=this.rexButtonn.add(this.add.image(i-10,10,"restart").setScale(.4).setOrigin(1,0)).setEnable(!0).on("click",()=>{this.restartGame()}),this.input.on("pointerdown",this.pressDown,this),this.input.on("pointerup",this.pressUp,this)}dumpJoyStickState(){}pressDown(t){if(this.currentPointer!==null)return;this.currentPointer=t;const{x:s,y:i}=t;this.joystick.setPosition(s,i).setVisible(!0).setEnable(!0)}pressUp(t){if(this.currentPointer!==t)return;this.currentPointer=null,this.joystick.setVisible(!1).setEnable(!1)}restartGame(){this.log.info("click restart"),this.scene.restart()}update(t,s){if(this.joystick.force===0)return;const i=Math.abs(n.a.Math.Angle.ShortestBetween(this.joystick.angle,n.a.Math.RadToDeg(this.currentRotation)));if(i!==0){const o=s*D*this.joystick.force,h=o<i?o:i;this.currentRotation=n.a.Math.Angle.RotateTo(this.currentRotation,this.joystick.rotation,h/i),this.spider.rotation=this.currentRotation+Math.PI*.5}const{x:r,y:l}=this.spider;this.spider.x+=s*this.joystick.force*y*Math.cos(this.currentRotation),this.spider.y+=s*this.joystick.force*y*Math.sin(this.currentRotation),this.graphics.lineStyle(16,65280,.5),this.graphics.lineBetween(r,l,this.spider.x,this.spider.y)}shutdown(){this.crash.clear(),this.input.off("pointerdown",this.pressDown,this),this.input.off("pointerup",this.pressUp,this),this.restartBtn.off("click"),this.joystick.off("update",this.dumpJoyStickState,this),super.shutdown()}}var k=Object.assign;R.a.disablePageScroll(),d.a.useDefaults(),d.a.setLevel(d.a.OFF);const g=d.a.get("index");g.info("start");const N={global:[{key:"rexWebFontLoader",plugin:T.a,start:!0},{key:"rexButtonn",plugin:O.a,start:!0,mapping:"rexButtonn"},{key:"rexVirtualJoystick",plugin:L.a,start:!0,mapping:"rexVirtualJoystick"}],scene:[]};window.onload=()=>{window.game=new n.a.Game(k(k({},A),{plugins:N,scene:[b,j],callbacks:{preBoot:t=>{g.info("game booting start")},postBoot:t=>{g.info("game booting complete"),window.scrollTo(0,1),t.scale.resize(window.innerWidth*p,E()()*p),M.add(()=>{t.scale.resize(window.innerWidth*p,E()()*p)})}}}))}}],[[10,1,2]]]);
