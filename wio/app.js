(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(h,d,t){h.exports=t(13)},function(h,d,t){var g=t(11),o=t(12);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[h.i,o,""]]);var i={};i.insert="head",i.singleton=!1;var f=g(o,i);h.exports=o.locals||{}},,function(h,d,t){},function(h,d,t){"use strict";t.r(d);var g=t(10),o=t(0),i=t.n(o),f=t(1),u=t.n(f),k=t(3),R=t.n(k),S=t(8),b=t(7),w=t(6);const m=function(){var e,n,s,a,c,r;const l=document.createElement("canvas").getContext("2d"),A=(e=window.devicePixelRatio)!=null?e:1,D=(r=(c=(a=(s=(n=l.webkitBackingStorePixelRatio)!=null?n:l.mozBackingStorePixelRatio)!=null?s:l.msBackingStorePixelRatio)!=null?a:l.oBackingStorePixelRatio)!=null?c:l.backingStorePixelRatio)!=null?r:1,x=A/D;return x>1?x:1}(),O={type:i.a.AUTO,disableContextMenu:!0,render:{transparent:!0,autoResize:!0},scale:{parent:"gameContainer",mode:i.a.Scale.RESIZE,autoCenter:i.a.Scale.CENTER_BOTH,width:`${100*m}%`,height:`${100*m}%`,expandParent:!1,resolution:.5},physics:{default:"arcade",arcade:{debug:!1,gravity:{x:0,y:0}}}};class E extends i.a.Scene{constructor(e){super(e);this.key=e.key,this.log=u.a.get(this.key),this.log.info("boot")}init(){this.log.info("init"),this.events.once("shutdown",this.shutdown,this),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this),this.events.off("destroy",this.destroy,this),this.scale.on("resize",this.resize,this)}shutdown(){this.log.info("shutdown"),this.scale.off("resize",this.resize,this),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.once("destroy",this.destroy,this)}sleep(){this.log.info("sleep"),this.events.off("pause",this.pause,this),this.events.once("wake",this.wake,this)}pause(){this.log.info("pause"),this.events.once("resume",this.resume,this)}wake(){this.log.info("wake"),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this)}resume(){this.log.info("resume"),this.events.once("pause",this.pause,this)}destroy(){this.log.info("destroy"),this.scale.off("resize",this.resize,this),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.off("shutdown",this.shutdown,this),this.log=void 0}resize(e,n,s,a){const{width:c,height:r}=e;this.cameras.resize(c,r)}}class M extends E{constructor(){super({key:"BootScene"})}create(){this.log.info("create"),this.load.rexWebFont({google:{families:["Roboto"]}}),this.load.image("level_bg_tile","assets/images/backgrounddetailed2.png"),this.load.image("restart","assets/images/restart.png"),this.load.spritesheet("spider","assets/sprites/spider.png",{frameWidth:120,frameHeight:148,startFrame:0,endFrame:18}),this.load.on("complete",()=>{this.anims.create({key:"walk",frames:"spider",frameRate:19,repeat:-1}),document.querySelector(".loader").classList.toggle("loaded"),this.scene.start("LevelScene")}),this.load.start()}}const T=.005,y=.001;class L extends E{constructor(){super({key:"LevelScene"});this.currentPointer=null,this.isWalk=!1,this.currentRotation=0}create(){this.log.info("create");const{centerX:e,centerY:n,width:s,height:a}=this.cameras.main;this.add.tileSprite(e,n,500*Math.ceil(s/500),500*Math.ceil(a/500),"level_bg_tile").setOrigin(.5),this.graphics=this.add.graphics(),this.spider=this.physics.add.sprite(0,0,"spider").play("walk").setRotation(this.currentRotation+Math.PI*.5),this.path=this.add.path(this.spider.x,this.spider.y),this.cameras.main.startFollow(this.spider,!0),this.joystick=this.rexVirtualJoystick.add(this,{x:0,y:0,radius:100,base:this.add.circle(0,0,100,16777215,.5),thumb:this.add.circle(0,0,50,2290649224,.5),fixed:!0,enable:!1}).setVisible(!1).on("update",this.dumpJoyStickState,this),this.restartBtn=this.rexButtonn.add(this.add.image(s-10,10,"restart").setScale(.4).setOrigin(1,0)).setEnable(!0).on("click",()=>{this.restartGame()}),this.input.on("pointerdown",this.pressDown,this),this.input.on("pointerup",this.pressUp,this)}dumpJoyStickState(){}pressDown(e){if(this.currentPointer!==null)return;this.currentPointer=e;const{x:n,y:s}=e;this.joystick.setPosition(n,s).setVisible(!0).setEnable(!0)}pressUp(e){if(this.currentPointer!==e)return;this.currentPointer=null,this.joystick.setVisible(!1).setEnable(!1)}restartGame(){this.log.info("click restart"),this.scene.restart()}update(e,n){if(this.joystick.force===0)return;const s=Math.abs(i.a.Math.Angle.ShortestBetween(this.joystick.angle,i.a.Math.RadToDeg(this.currentRotation)));if(s!==0){const r=n*T*this.joystick.force,l=r<s?r:s;this.currentRotation=i.a.Math.Angle.RotateTo(this.currentRotation,this.joystick.rotation,l/s),this.spider.rotation=this.currentRotation+Math.PI*.5}const{x:a,y:c}=this.spider;this.spider.x+=n*this.joystick.force*y*Math.cos(this.currentRotation),this.spider.y+=n*this.joystick.force*y*Math.sin(this.currentRotation),this.graphics.lineStyle(16,65280,.5),this.graphics.lineBetween(a,c,this.spider.x,this.spider.y)}shutdown(){this.crash.clear(),this.input.off("pointerdown",this.pressDown,this),this.input.off("pointerup",this.pressUp,this),this.restartBtn.off("click"),this.joystick.off("update",this.dumpJoyStickState,this),super.shutdown()}}var v=Object.assign;R.a.disablePageScroll(),u.a.useDefaults(),u.a.setLevel(u.a.OFF);const p=u.a.get("index");p.info("start");const j={global:[{key:"rexWebFontLoader",plugin:S.a,start:!0},{key:"rexButtonn",plugin:b.a,start:!0,mapping:"rexButtonn"},{key:"rexVirtualJoystick",plugin:w.a,start:!0,mapping:"rexVirtualJoystick"}],scene:[]};window.onload=()=>{window.game=new i.a.Game(v(v({},O),{plugins:j,scene:[M,L],callbacks:{preBoot:e=>{p.info("game booting start")},postBoot:e=>{p.info("game booting complete")}}}))}}],[[9,1,2]]]);
