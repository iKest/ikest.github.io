window.__require=function t(e,n,o){function i(c,s){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return i(e[c][1][t]||t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function c(t,e,n,i,c){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||t,c),a=o?o+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,c=new Array(r);i<r;i++)c[i]=n[i].fn;return c},a.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,r,c){var s=o?o+t:t;if(!this._events[s])return!1;var a,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,r),!0;case 6:return l.fn.call(l.context,e,n,i,r,c),!0}for(u=1,a=new Array(f-1);u<f;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!a)for(p=1,a=new Array(f-1);p<f;p++)a[p-1]=arguments[p];l[u].fn.apply(l[u].context,a)}}return!0},a.prototype.on=function(t,e,n){return c(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return c(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,n,i){var r=o?o+t:t;if(!this._events[r])return this;if(!e)return s(this,r),this;var c=this._events[r];if(c.fn)c.fn!==e||i&&!c.once||n&&c.context!==n||s(this,r);else{for(var a=0,u=[],l=c.length;a<l;a++)(c[a].fn!==e||i&&!c[a].once||n&&c[a].context!==n)&&u.push(c[a]);u.length?this._events[r]=1===u.length?u[0]:u:s(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=o,a.EventEmitter=a,void 0!==e&&(e.exports=a)},{}],2:[function(t,e,n){(function(t){(function(t,e){"function"==typeof define&&define.amd?define([],e):void 0!==n?e():(e(),t.FileSaver={})})(this,function(){"use strict";function n(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function o(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){s(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(o){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,s=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var s=c.URL||c.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener","string"==typeof t?(a.href=t,a.origin===location.origin?r(a):i(a.href)?o(t,e,n):r(a,a.target="_blank")):(a.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){r(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,c){if(e=e||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(n(t,c),e);else if(i(t))o(t,e,c);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){r(s)})}}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return o(t,e,n);var r="application/octet-stream"===t.type,s=/constructor/i.test(c.HTMLElement)||c.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var l=c.URL||c.webkitURL,f=l.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout(function(){l.revokeObjectURL(f)},4e4)}});c.saveAs=s.saveAs=s,void 0!==e&&(e.exports=s)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e){(function(t){"use strict";var n,o={VERSION:"1.6.0"},i={},r=function(t,e){return function(){return e.apply(t,arguments)}},c=function(){var t,e,n=arguments,o=n[0];for(e=1;e<n.length;e++)for(t in n[e])t in o||!n[e].hasOwnProperty(t)||(o[t]=n[e][t]);return o},s=function(t,e){return{value:t,name:e}};o.TRACE=s(1,"TRACE"),o.DEBUG=s(2,"DEBUG"),o.INFO=s(3,"INFO"),o.TIME=s(4,"TIME"),o.WARN=s(5,"WARN"),o.ERROR=s(8,"ERROR"),o.OFF=s(99,"OFF");var a=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};a.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,e){n&&this.enabledFor(t)&&n(e,c({level:t},this.context))}};var u,l=new a({filterLevel:o.OFF});(u=o).enabledFor=r(l,l.enabledFor),u.trace=r(l,l.trace),u.debug=r(l,l.debug),u.time=r(l,l.time),u.timeEnd=r(l,l.timeEnd),u.info=r(l,l.info),u.warn=r(l,l.warn),u.error=r(l,l.error),u.log=u.info,o.setHandler=function(t){n=t},o.setLevel=function(t){for(var e in l.setLevel(t),i)i.hasOwnProperty(e)&&i[e].setLevel(t)},o.getLevel=function(){return l.getLevel()},o.get=function(t){return i[t]||(i[t]=new a(c({name:t},l.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,e){e.name&&t.unshift("["+e.name+"]")};var e={},n=function(t,e){Function.prototype.apply.call(t,console,e)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var c,s=console.log;r.level===o.TIME?(c=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(c):e[c]=(new Date).getTime():console.timeEnd?console.timeEnd(c):n(s,[c+": "+((new Date).getTime()-e[c])+"ms"])):(r.level===o.WARN&&console.warn?s=console.warn:r.level===o.ERROR&&console.error?s=console.error:r.level===o.INFO&&console.info?s=console.info:r.level===o.DEBUG&&console.debug?s=console.debug:r.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(i,r),n(s,i))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},"function"==typeof define&&define.amd?define(o):void 0!==e&&e.exports?e.exports=o:(o._prevLogger=t.Logger,o.noConflict=function(){return t.Logger=o._prevLogger,o},t.Logger=o)})(this)},{}],DownloadScene:[function(t,e,n){"use strict";cc._RF.push(e,"6f466FJvxRKn71WXzkstVdc","DownloadScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=c(t("js-logger")),a=c(t("file-saver")),u=t("../getCanvas"),l=window.File;try{new l([],"")}catch(v){l=function(t){function e(e,n,o){void 0===o&&(o={});var i=t.call(this,e,o)||this;return i.lastModifiedDate=new Date,i.lastModified=+i.lastModifiedDate,i.name=n,i}return i(e,t),e}(Blob)}var f=cc._decorator,p=f.ccclass,h=f.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backButton=null,e.backAllButton=null,e.saveButton=null,e.shareButton=null,e.backBackgroud=null,e.frontBackground=null,e.captureCamera=null,e.fileName="capture.jpg",e.imageFormat="image/jpeg",e.shareTitle="Funny Images",e.shareText="Hey! Look on my funny photo!",e.log=s.default.get("Download Scene"),e}return i(e,t),e.prototype.onLoad=function(){this.log.info("load")},e.prototype.onEnable=function(){this.log.info("enable")},e.prototype.start=function(){this.log.info("start"),navigator.share&&navigator.canShare&&(this.shareButton.active=!0),this.backButton.on("click",this.clickBack,this),this.backAllButton.on("click",this.clickBackAll,this),this.saveButton.on("click",this.clickSave,this),this.shareButton.on("click",this.clickShare,this)},e.prototype.clickBack=function(){this.backButton.getComponent(cc.Button).interactable=!1,cc.director.loadScene("Process Scene")},e.prototype.clickBackAll=function(){this.backAllButton.getComponent(cc.Button).interactable=!1,cc.director.loadScene("Upload Scene")},e.prototype.clickSave=function(){var t=this,e=this.captureCamera.getComponent(cc.Camera),n=new cc.RenderTexture;n.initWithSize(cc.visibleRect.width,cc.visibleRect.height);var o=n.width,i=n.height,r=u.getCanvas(o,i,!0);r.getContext("2d"),e.targetTexture=n,e.render(),new ImageData(new Uint8ClampedArray(n.readPixels().buffer),o,i),this.saveButton.getComponent(cc.Button).interactable=!1,this.shareButton.getComponent(cc.Button).interactable=!1,r.toBlob(function(o){a.default(o,t.fileName),t.saveButton.getComponent(cc.Button).interactable=!0,t.shareButton.getComponent(cc.Button).interactable=!0,e.targetTexture=null,n.destroy()},this.imageFormat,.95)},e.prototype.clickShare=function(){var t=this,e=u.getCanvas();this.saveButton.getComponent(cc.Button).interactable=!1,this.shareButton.getComponent(cc.Button).interactable=!1,e.toBlob(function(e){var n=[];n.push(new l([e],t.fileName,{type:t.imageFormat})),navigator.canShare({files:n})?navigator.share({files:n,title:t.shareTitle,text:t.shareText}).then(function(){t.log.info("Share was successful."),t.saveButton.getComponent(cc.Button).interactable=!0,t.shareButton.getComponent(cc.Button).interactable=!0}).catch(function(e){t.log.error("Sharing failed",e),t.saveButton.getComponent(cc.Button).interactable=!0,t.shareButton.getComponent(cc.Button).interactable=!0}):(t.log.info("this file type share not supported."),t.saveButton.getComponent(cc.Button).interactable=!0,t.shareButton.getComponent(cc.Button).interactable=!0)},this.imageFormat,.95)},e.prototype.onDisable=function(){this.log.info("disable")},e.prototype.onDestroy=function(){this.log.info("destroy"),this.backButton.off("click",this.clickBack,this),this.backAllButton.off("click",this.clickBackAll,this),this.saveButton.off("click",this.clickSave,this),this.shareButton.off("click",this.clickShare,this)},r([h(cc.Node)],e.prototype,"backButton",void 0),r([h(cc.Node)],e.prototype,"backAllButton",void 0),r([h(cc.Node)],e.prototype,"saveButton",void 0),r([h(cc.Node)],e.prototype,"shareButton",void 0),r([h(cc.Node)],e.prototype,"backBackgroud",void 0),r([h(cc.Node)],e.prototype,"frontBackground",void 0),r([h(cc.Camera)],e.prototype,"captureCamera",void 0),r([h(cc.String)],e.prototype,"fileName",void 0),r([h(cc.String)],e.prototype,"imageFormat",void 0),r([h(cc.String)],e.prototype,"shareTitle",void 0),r([h(cc.String)],e.prototype,"shareText",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../getCanvas":"getCanvas","file-saver":2,"js-logger":3}],EvenEmitter:[function(t,e,n){"use strict";var o;cc._RF.push(e,"c6d6eJ5IQhGTrGAINUgYQlS","EvenEmitter"),n.__esModule=!0,n.default=void 0;var i=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;return i.shutdown=function(){this.removeAllListeners()},i.destroy=function(){this.removeAllListeners()},o}(((o=t("eventemitter3"))&&o.__esModule?o:{default:o}).default);n.default=i,e.exports=n.default,cc._RF.pop()},{eventemitter3:1}],EventEmitterMethods:[function(t,e,n){"use strict";cc._RF.push(e,"22ecfLndBBLcqe5xbl7hgdE","EventEmitterMethods"),n.__esModule=!0,n.default=void 0;var o={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}};n.default=o,e.exports=n.default,cc._RF.pop()},{}],GetValue:[function(t,e,n){"use strict";cc._RF.push(e,"5257aG2UVZJHaPzJfqaPQ3c","GetValue"),n.__esModule=!0,n.default=void 0;n.default=function(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var o=e.split("."),i=t,r=n,c=0;c<o.length;c++){if(!i.hasOwnProperty(o[c])){r=n;break}r=i[o[c]],i=i[o[c]]}return r}return n}return n},e.exports=n.default,cc._RF.pop()},{}],OnePointerTracer:[function(t,e,n){"use strict";cc._RF.push(e,"4596aOOcphN4qpGZ1XDu4SM","OnePointerTracer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=c(t("js-logger")),a=cc._decorator,u=a.ccclass,l=a.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enable=!0,e.log=s.default.get("OnePointerTracer"),e}return i(e,t),e.prototype.onLoad=function(){this.log.info("onLoad")},e.prototype.start=function(){this.log.info("start"),this.log.info(this.node.width,this.node.height)},r([l(cc.Boolean)],e.prototype,"enable",void 0),r([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"js-logger":3}],ProcessScene:[function(t,e,n){"use strict";cc._RF.push(e,"2403fgZ+MdB3aqICachiIH0","ProcessScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=c(t("js-logger"));s.default.useDefaults();var a=cc._decorator,u=a.ccclass,l=a.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gesturesLayer=null,e.UI=null,e.image=null,e.visualMask=null,e.zoomInButton=null,e.zoomOutButton=null,e.controlButton=null,e.transformButton=null,e.rotateButton=null,e.helpButton=null,e.resetButton=null,e.backButton=null,e.processButton=null,e.log=s.default.get("Process Scene"),e}return i(e,t),e.prototype.onLoad=function(){this.log.info("load")},e.prototype.start=function(){this.log.info("start"),this.gesturesLayer.on(cc.Node.EventType.TOUCH_START,this.disableUI,this),this.gesturesLayer.on(cc.Node.EventType.TOUCH_END,this.enableUI,this),this.gesturesLayer.on(cc.Node.EventType.TOUCH_CANCEL,this.enableUI,this),this.backButton.on("click",this.clickBack,this),this.processButton.on("click",this.clickProcess,this)},e.prototype.clickBack=function(){this.backButton.getComponent(cc.Button).interactable=!1,cc.director.loadScene("Upload Scene")},e.prototype.clickProcess=function(){this.processButton.getComponent(cc.Button).interactable=!1,cc.director.loadScene("Download Scene")},e.prototype.enableUI=function(t){this.UI.active=!0,this.log.info(t)},e.prototype.disableUI=function(t){this.UI.active=!1,this.log.info(t)},e.prototype.onEnable=function(){this.log.info("enable")},e.prototype.onDisable=function(){this.log.info("disable")},e.prototype.onDestroy=function(){this.log.info("destroy"),this.backButton.off("click",this.clickBack,this),this.processButton.off("click",this.clickProcess,this),this.gesturesLayer.off(cc.Node.EventType.TOUCH_START,this.disableUI,this),this.gesturesLayer.off(cc.Node.EventType.TOUCH_END,this.enableUI,this),this.gesturesLayer.off(cc.Node.EventType.TOUCH_CANCEL,this.enableUI,this)},r([l(cc.Node)],e.prototype,"gesturesLayer",void 0),r([l(cc.Node)],e.prototype,"UI",void 0),r([l(cc.Node)],e.prototype,"image",void 0),r([l(cc.Node)],e.prototype,"visualMask",void 0),r([l(cc.Node)],e.prototype,"zoomInButton",void 0),r([l(cc.Node)],e.prototype,"zoomOutButton",void 0),r([l(cc.Node)],e.prototype,"controlButton",void 0),r([l(cc.Node)],e.prototype,"transformButton",void 0),r([l(cc.Node)],e.prototype,"rotateButton",void 0),r([l(cc.Node)],e.prototype,"helpButton",void 0),r([l(cc.Node)],e.prototype,"resetButton",void 0),r([l(cc.Node)],e.prototype,"backButton",void 0),r([l(cc.Node)],e.prototype,"processButton",void 0),r([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"js-logger":3}],TickTask:[function(t,e,n){"use strict";cc._RF.push(e,"c1762XBB6tMmJlG9m6qgIEG","TickTask"),n.__esModule=!0,n.default=void 0;var o=r(t("../eventemitter/EventEmitterMethods.js")),i=r(t("../objects/GetValue"));function r(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(t,e){this.parent=t,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter((0,i.default)(e,"eventEmitter",void 0)),this.setTickingMode((0,i.default)(e,"tickingMode",1))}var e,n,o=t.prototype;return o.boot=function(){2!==this.tickingMode||this.tickingState||this.startTicking()},o.shutdown=function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()},o.setTickingMode=function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t},o.startTicking=function(){this.tickingState=!0},o.stopTicking=function(){this.tickingState=!1},o.start=function(){return this.isRunning=!0,this},o.pause=function(){return this.isRunning=!1,this},o.resume=function(){return this.isRunning=!0,this},o.stop=function(){return this.isRunning=!1,this},o.complete=function(){this.isRunning=!1,this.emit("complete",this.parent,this)},e=t,(n=[{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&c(e.prototype,n),t}();Object.assign(s.prototype,o.default);var a={no:0,lazy:1,always:2},u=s;n.default=u,e.exports=n.default,cc._RF.pop()},{"../eventemitter/EventEmitterMethods.js":"EventEmitterMethods","../objects/GetValue":"GetValue"}],UploadScene:[function(t,e,n){"use strict";cc._RF.push(e,"723baHw6R9Hk5tOhzNBLmNW","UploadScene");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=c(t("js-logger"));s.default.useDefaults();var a=cc._decorator,u=a.ccclass,l=a.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.log=s.default.get("Upload Scene"),e}return i(e,t),e.prototype.onLoad=function(){this.log.info("load")},e.prototype.onEnable=function(){this.log.info("enable")},e.prototype.onDisable=function(){this.log.info("disable")},e.prototype.start=function(){this.log.info("start"),this.button.on("click",this.uploadHeader,this)},e.prototype.uploadHeader=function(){this.log.info("Upload button click");var t=document.createElement("input"),e=document.body;t.type="file",t.accept="image/*",t.multiple=!1,t.style.position="fixed",t.style.top="-100em",t.onchange=this.handleChange.bind(this),e.appendChild(t),t.click(),e.removeChild(t)},e.prototype.handleChange=function(t){var e=this;this.log.info("handleChange"),this.button.getComponent(cc.Button).interactable=!1;var n=t.target.files[0],o=window.URL.createObjectURL(n);cc.assetManager.loadRemote(o,{ext:"."+n.type.split("/")[1]},function(t){window.URL.revokeObjectURL(o),t?(e.log.error(t),e.button.getComponent(cc.Button).interactable=!0):cc.director.loadScene("Process Scene")})},e.prototype.onDestroy=function(){this.log.info("destoy"),this.button.off("click",this.uploadHeader,this)},r([l(cc.Node)],e.prototype,"button",void 0),r([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"js-logger":3}],getCanvas:[function(t,e,n){"use strict";cc._RF.push(e,"585126TJEBI3IMbRWZKS6Ay","getCanvas");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.getCanvas=void 0;var i=o(t("js-logger"));i.default.useDefaults();var r=i.default.get("canvas"),c=void 0;n.getCanvas=function(t,e,n){return c||(r.info("create canvas"),c=document.createElement("canvas")),t&&(c.width=t),e&&(c.height=e),n&&c.getContext("2d").clearRect(0,0,c.width,c.height),c},cc._RF.pop()},{"js-logger":3}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"48ff7BH6WxN462LNG6pVjv1","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["OnePointerTracer","EvenEmitter","EventEmitterMethods","GetValue","TickTask","DownloadScene","ProcessScene","UploadScene","getCanvas","use_v2.1-2.2.1_cc.Toggle_event"]);