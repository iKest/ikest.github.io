(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(c,f,e){c.exports=e(17)},11:function(c,f,e){var v=e(12),n=e(13);n=n.__esModule?n.default:n,typeof n=="string"&&(n=[[c.i,n,""]]);var o={};o.insert="head",o.singleton=!1;var w=v(n,o);c.exports=n.locals||{}},13:function(c,f,e){},17:function(c,f,e){"use strict";e.r(f);var v=e(11),n=e(0),o=e.n(n),w=e(1),d=e.n(w),A=e(3),C=e.n(A),S=e(9),j=e(8),b=e(7);const M={type:o.a.AUTO,disableContextMenu:!0,render:{transparent:!0},scale:{parent:"gameContainer",mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH,width:640,height:960,expandParent:!1},physics:{default:"arcade",arcade:{debug:!1,gravity:{x:0,y:0}}}};class x extends o.a.Scene{constructor(s){super(s);this.key=s.key,this.log=d.a.get(this.key),this.log.info("boot")}init(){this.log.info("init"),this.events.once("shutdown",this.shutdown,this),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this),this.events.off("destroy",this.destroy,this)}shutdown(){this.log.info("shutdown"),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.once("destroy",this.destroy,this)}sleep(){this.log.info("sleep"),this.events.off("pause",this.pause,this),this.events.once("wake",this.wake,this)}pause(){this.log.info("pause"),this.events.once("resume",this.resume,this)}wake(){this.log.info("wake"),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this)}resume(){this.log.info("resume"),this.events.once("pause",this.pause,this)}destroy(){this.log.info("destroy"),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.off("shutdown",this.shutdown,this),this.log=void 0}}class k extends x{constructor(){super({key:"BootScene"})}create(){this.log.info("create"),this.load.rexWebFont({google:{families:["Roboto"]}}),this.load.image("level_bg","assets/images/level_bg.jpg"),this.load.image("restart","assets/images/restart.png"),this.load.image("hammer","assets/images/hammer.png"),this.load.image("hand","assets/images/hand.png"),this.load.image("ring","assets/images/ring.png"),this.load.on("complete",()=>{document.querySelector(".loader").classList.toggle("loaded"),this.scene.start("LevelScene")}),this.load.start()}}var U=e(6),N=e.n(U);class R{constructor(s,t,a,g,i,r){this.scene=s;const h=i*8,l=r*8,u=h*.5,m=l*.5;this.log=d.a.get("ChainsMail");for(let p=0;p<r;p++)for(let E=0;E<i;E++){const D=a-u+(E%2===0?8:0)+E*8,T=g-m+p*8,L=Math.random()>.9;new t.Circle(new t.V(D,T),8,!0,{img:this.scene.add.image(D,T,"ring").setScale(.5).setTint(L?10910720:7303032).setData("health",10).setData("isGold",L)})}}}class B extends x{constructor(){super({key:"LevelScene"});this.currentPointer=null,this.hammerTween=null,this.crash=new N.a}create(){this.log.info("create");const{centerX:s,centerY:t,width:a,height:g}=this.cameras.main;this.add.image(s,t,"level_bg"),this.chainsMail=new R(this,this.crash,s,t,40,80);const i=this.add.image(s-100,0,"hand").setScale(.8,-.8).setOrigin(.5,0),r=this.add.image(s+100,0,"hand").setScale(-.8,-.8).setOrigin(.5,0);this.tweens.add({targets:[i,r],y:150,duration:200});const h=this.add.image(0,t-100,"hand").setScale(.8,.8).setAngle(90).setOrigin(.5,0),l=this.add.image(0,t+100,"hand").setScale(-.8,.8).setAngle(90).setOrigin(.5,0);this.tweens.add({targets:[h,l],x:150,duration:200});const u=this.add.image(a,t-100,"hand").setScale(.8,-.8).setAngle(90).setOrigin(.5,0),m=this.add.image(a,t+100,"hand").setScale(-.8,-.8).setAngle(90).setOrigin(.5,0);this.tweens.add({targets:[u,m],x:a-150,duration:200}),this.hands=[i,r,h,l,u,m],this.hammerGoal=this.add.circle(0,0,32,16711680,.5),this.hammer=this.physics.add.image(a,g-50,"hammer").setOrigin(.8,.8),this.resp=new this.crash.Response,this.joystick=this.rexVirtualJoystick.add(this,{x:400,y:300,radius:100,base:this.add.circle(0,0,100,16777215,.5),thumb:this.add.circle(0,0,50,2290649224,.5),enable:!1}).setVisible(!1).on("update",this.dumpJoyStickState,this),this.crash.onCollision(this.onCollition.bind(this)),this.restartBtn=this.rexButtonn.add(this.add.image(a-10,10,"restart").setScale(.4).setOrigin(1,0)).setEnable(!0).on("click",()=>{this.restartGame()}),this.input.on("pointerdown",this.pressDown,this),this.input.on("pointerup",this.pressUp,this)}dumpJoyStickState(){const{forceX:s,forceY:t}=this.joystick;this.hammer.setVelocity(s,t)}pressDown(s){if(this.currentPointer!==null)return;this.currentPointer=s;const{x:t,y:a}=s;this.joystick.setPosition(t,a).setVisible(!0).setEnable(!0),this.hammerTween=this.tweens.add({targets:[this.hammer],angle:-15,yoyo:!0,duration:150,repeat:-1,onYoyo:()=>{this.hammerBoom()}})}pressUp(s){if(this.currentPointer!==s)return;this.currentPointer=null,this.joystick.setVisible(!1).setEnable(!1),this.hammerTween!==null&&this.hammerTween.stop(),this.hammerTween=null,this.hammer.angle=0}onCollition(s,t,a,g){const i=t.data.img,r=i.getData("health")-1;i.setData("health",r),r<=0&&(this.crash.remove(t),i.getData("isGold")?this.tweens.add({targets:[i],scale:.8,duration:150,onComplete:()=>{let h=0,l=o.a.Math.Distance.BetweenPoints(this.hands[h],i);this.hands.forEach((u,m)=>{const p=o.a.Math.Distance.BetweenPoints(u,i);p<l&&(h=m,l=p)}),this.tweens.add({targets:[i],x:this.hands[h].x,y:this.hands[h].y,duration:l*10,onComplete:()=>{i.destroy()}})}}):this.tweens.add({targets:[i],alpha:0,duration:150,onComplete:()=>{i.destroy()}}))}restartGame(){this.log.info("click restart"),this.scene.restart()}hammerBoom(){const{x:s,y:t}=this.hammerGoal,a=new this.crash.Circle(new this.crash.Vector(s,t),32),g=new this.crash.Response;this.crash.testAll(a,g)}update(s,t){this.hammerGoal.x=this.hammer.x-225,this.hammerGoal.y=this.hammer.y-25}shutdown(){this.crash.clear(),this.input.off("pointerdown",this.pressDown,this),this.input.off("pointerup",this.pressUp,this),this.restartBtn.off("click"),this.joystick.off("update",this.dumpJoyStickState,this),super.shutdown()}}var O=Object.assign;C.a.disablePageScroll(),d.a.useDefaults(),d.a.setLevel(d.a.OFF);const y=d.a.get("index");y.info("start");const P={global:[{key:"rexWebFontLoader",plugin:S.a,start:!0},{key:"rexButtonn",plugin:j.a,start:!0,mapping:"rexButtonn"},{key:"rexVirtualJoystick",plugin:b.a,start:!0,mapping:"rexVirtualJoystick"}],scene:[]};window.onload=()=>{window.game=new o.a.Game(O(O({},M),{plugins:P,scene:[k,B],callbacks:{preBoot:s=>{y.info("game booting start")},postBoot:s=>{y.info("game booting complete")}}}))}}},[[10,1,2]]]);
