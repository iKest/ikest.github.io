(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(a,o,s){a.exports=s(20)},17:function(a,o,s){var d=s(18),e=s(19);e=e.__esModule?e.default:e,typeof e=="string"&&(e=[[a.i,e,""]]);var i={};i.insert="head",i.singleton=!1;var p=d(e,i);a.exports=e.locals||{}},19:function(a,o,s){},20:function(a,o,s){"use strict";s.r(o);var d=s(17),e=s(2),i=s.n(e),p=s(5),h=s.n(p),u=s(7),f=s.n(u),m=s(12),w=s(13),x=s(14),v=s(10),E=s(11),y=s(15);const L={type:i.a.AUTO,disableContextMenu:!0,render:{transparent:!0},scale:{parent:"gameContainer",mode:i.a.Scale.FIT,autoCenter:i.a.Scale.CENTER_BOTH,width:860,height:1136,expandParent:!1},physics:{default:"matter",matter:{debug:!1,gravity:{x:0,y:0}}}};class c extends i.a.Scene{constructor(t){super(t);this.key=t.key,this.log=h.a.get(this.key),this.log.info("boot")}init(){this.log.info("init"),this.events.once("shutdown",this.shutdown,this),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this),this.events.off("destroy",this.destroy,this)}shutdown(){this.log.info("shutdown"),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.once("destroy",this.destroy,this)}sleep(){this.log.info("sleep"),this.events.off("pause",this.pause,this),this.events.once("wake",this.wake,this)}pause(){this.log.info("pause"),this.events.once("resume",this.resume,this)}wake(){this.log.info("wake"),this.events.once("sleep",this.sleep,this),this.events.once("pause",this.pause,this)}resume(){this.log.info("resume"),this.events.once("pause",this.pause,this)}destroy(){this.log.info("destroy"),this.events.off("sleep",this.sleep,this),this.events.off("pause",this.pause,this),this.events.off("shutdown",this.shutdown,this),this.log=void 0}}class T extends c{constructor(){super({key:"BootScene"})}create(){this.log.info("create"),this.load.rexWebFont({google:{families:["Roboto"]}}),this.load.json("hands","assets/jsons/hands.json"),this.load.json("levels","assets/jsons/levels.json"),this.load.multiatlas("atlas","assets/atlases/atlas.json","assets/atlases/"),this.load.on("complete",()=>{document.querySelector(".loader").classList.toggle("loaded"),this.scene.start("LevelScene")}),this.load.start()}}const A=["biker","businessman","knight","mummy","ninja","pirate","robot","werewolf","zombie"];class O extends c{constructor(){super({key:"LevelScene"})}init(){this.pattern=[2,3,2,4,2,5,2,4,2,3],this.patternPosition=0,this.timeScale=1,this.score=0}create(){this.log.info("create");const{centerX:t,centerY:r}=this.cameras.main,l=A[5];this.bg=this.add.image(t,r,"atlas",`${l}_bg`),this.arc=this.add.image(t,r+160,"atlas","arc without glow");const N=new i.a.Curves.CubicBezier({x:this.arc.x-.5*this.arc.width+.39*.1*this.arc.width,y:this.arc.y-.5*this.arc.height+(1-1.86/7.6)*this.arc.height},{x:this.arc.x-.5*this.arc.width+3.76*.1*this.arc.width,y:this.arc.y-.5*this.arc.height+(1-9.47/7.6)*this.arc.height},{x:this.arc.x-.5*this.arc.width+6.18*.1*this.arc.width,y:this.arc.y-.5*this.arc.height+(1-8.95/7.6)*this.arc.height},{x:this.arc.x-.5*this.arc.width+9.663*.1*this.arc.width,y:this.arc.y-.5*this.arc.height+(1-.317/7.6)*this.arc.height});this.path=this.add.path(),this.path.add(N),this.glows=new Map([["glow1",this.add.image(this.arc.x-this.arc.width*.5+465+119*.5,this.arc.y-this.arc.height*.5+262+187*.5,"atlas","01").setAlpha(0)],["glow2",this.add.image(this.arc.x-this.arc.width*.5+382+141*.5,this.arc.y-this.arc.height*.5+97+206*.5,"atlas","02").setAlpha(0)],["glow3",this.add.image(this.arc.x-this.arc.width*.5+265+166*.5,this.arc.y-this.arc.height*.5-11+162*.5,"atlas","03").setAlpha(0)],["glow4",this.add.image(this.arc.x-this.arc.width*.5+122+163*.5,this.arc.y-this.arc.height*.5-12+144*.5,"atlas","04").setAlpha(0)],["glow5",this.add.image(this.arc.x-this.arc.width*.5+53+110*.5,this.arc.y-this.arc.height*.5+74+149*.5,"atlas","05").setAlpha(0)],["glow6",this.add.image(this.arc.x-this.arc.width*.5-15+122*.5,this.arc.y-this.arc.height*.5+189+177*.5,"atlas","06").setAlpha(0)]]),this.dot=this.add.image(0,0,"atlas","red dot"),this.pathFollower=this.rexPathFollower.add(this.dot,{path:this.path,t:1,rotateToPath:!1,rotationOffset:0,angleOffset:0}),this.hand=this.add.image(t,r+210,"atlas",l),this.shake=this.rexShakePosition.add(this.hand,{mode:1,duration:100,magnitude:10,magnitudeMode:1}),this.knife=this.add.image(0,0,"atlas",`${l}_knife`).setOrigin(48/1e3,572/1350).setScale(.9).setAngle(-25),this.scoreIcon=this.add.image(50,50,"atlas","Coin").setScale(.8),this.scoreText=this.add.text(100,50,this.score,{fontFamily:"Roboto",fontSize:"50px",fontStyle:"bold",align:"center"}).setOrigin(0,.5),this.pathTween=this.tweens.add({targets:[this.pathFollower],t:0,ease:"Linear",duration:5e3,repeat:-1,onUpdate:()=>{this.knife.setPosition(this.dot.x,this.dot.y-120)},onYoyo:()=>{this.isNextLevel&&(this.isNextLevel=!1,this.showGlow(this.pattern[this.patternPosition]))},onRepeat:()=>{this.isNextLevel&&(this.isNextLevel=!1,this.showGlow(this.pattern[this.patternPosition]))},yoyo:!0,paused:!0}),this.tap=this.rexGestures.add.tap({enable:!0,time:10,tapInterval:10,threshold:9,tapOffset:10}).on("tappingstart",this.tapHeader,this),this.start()}update(){}start(){this.showGlow(this.pattern[this.patternPosition]),this.pathTween.setTimeScale(this.timeScale),this.pathTween.play()}getLevel(t){return this.levels[`level_${t}`]}showGlow(t){this.tweens.add({targets:[this.glows.get(`glow${t}`)],alpha:1,diration:10})}hideGlow(t){this.tweens.add({targets:[this.glows.get(`glow${t}`)],alpha:0,diration:10})}getInterval(){const t=this.pathFollower.t;return t>.9148?1:t>.7336&&t<.784?2:t>.535&&t<.5838?3:t>.3253&&t<.3836?4:t>.174&&t<.2055?5:t<.065?6:0}tapHeader(){this.pathTween.pause(),this.tweens.add({targets:[this.knife],y:this.dot.y,duration:50,yoyo:!0,onStart:()=>{this.tap.setEnable(!1)},onYoyo:()=>{const t=this.getInterval();t===0?(this.shake.shake(),this.score=Math.max(0,--this.score),this.scoreText.setText(this.score)):!this.isNextLevel&&t===this.pattern[this.patternPosition]&&(this.hideGlow(this.pattern[this.patternPosition]),this.scoreText.setText(++this.score),++this.patternPosition<this.pattern.length?this.showGlow(this.pattern[this.patternPosition]):(this.timeScale+=.5,this.patternPosition=0,this.pathTween.setTimeScale(this.timeScale),this.isNextLevel=!0))},onComplete:()=>{this.pathTween.resume(),this.tap.setEnable(!0)}})}shutdown(){this.crash.clear(),this.input.off("pointerdown",this.pressDown,this),this.input.off("pointerup",this.pressUp,this),this.tap.off("tap",this.tapHeader,this),super.shutdown()}}var g=Object.assign;f.a.disablePageScroll(),h.a.useDefaults(),h.a.setLevel(h.a.OFF);const n=h.a.get("index");n.info("start");const S={global:[{key:"rexShakePosition",plugin:y.a,start:!0,mapping:"rexShakePosition"},{key:"rexPathFollower",plugin:x.a,start:!0,mapping:"rexPathFollower"},{key:"rexContainerLitePlugin",plugin:E.a,start:!0},{key:"rexWebFontLoader",plugin:m.a,start:!0},{key:"rexButtonn",plugin:w.a,start:!0,mapping:"rexButtonn"}],scene:[{key:"rexGestures",plugin:v.a,mapping:"rexGestures"}]};window.onload=()=>{window.game=new i.a.Game(g(g({},L),{plugins:S,scene:[T,O],callbacks:{preBoot:t=>{n.info("game booting start")},postBoot:t=>{n.info("game booting complete")}}}))}}},[[16,1,2]]]);
